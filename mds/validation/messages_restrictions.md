#Сообщения
* Как было показано выше (см. листинг 3.2), при определении ограничивающей анно-
тации есть три обязательных атрибута: message, groups и payload. Каждое ограничение
должно определять задаваемое по умолчанию сообщение типа String, которое ис-
пользуется для индикации ошибки, если при валидации компонента нарушается то
или иное ограничение.
* Значение такого стандартного сообщения можно жестко запрограммировать,
но рекомендуется применять ключ пакета ресурсов для обеспечения интернацио-
нализации. В соответствии с действующим соглашением ключ пакета ресурсов
должен быть полностью квалифицированным именем класса той ограничивающей
аннотации, которая сцепляется с .message.
```xml
// Жестко закодированное сообщение об ошибке
String message() default "Неверный электронный адрес";
// Ключ пакета ресурсов
String message() default "{org.agoncal.book.javaee7.Email.message}";
```
* По умолчанию файл пакета ресурсов называется 

ValidationMessages.properties

и должен быть указан в пути к классам приложения. Файл построен в виде пар
«ключ — значение», именно это нам и нужно для экстернализации и интернациона-
лизации сообщения об ошибке.
```xml
org.agoncal.book.javaee7.Email.message=Неверный электронный адрес
```
Это стандартное сообщение, заданное в ограничивающей аннотации, может быть
переопределено во время объявления в зависимости от конкретных условий ис-
пользования.
```xml
@Email(message = "Восстановленный электронный адрес не является действительным")
private String recoveryEmail;
```
Благодаря интерполяции сообщений (интерфейс javax.validation.Message-
Interpolator) сообщение об ошибке может содержать джокерные элементы. Цель
интерполяции — определить сообщение об ошибке, разрешая его строки и параме-
тры, находящиеся в скобках. Следующее сообщение об ошибке интерполировано
таким образом, что джокерные строки {min} и {max} заменяются значениями соот-
ветствующих элементов:
```xml
javax.validation.constraints.Size.message = size must be between {min} and {max}
```
В листинге 3.16 показан класс Customer, использующий сообщения об ошибках
несколькими способами. Атрибут userId имеет аннотацию @Email, говорящую о том,
что если значение не является действительным адресом электронной почты, то
будет использоваться заданное по умолчанию сообщение об ошибке. Обратите
внимание: с атрибутами firstName и age стандартные сообщения об ошибках пере-
определяются, вместо них используются варианты с джокерными последователь-
ностями.
```xml
public class Customer {
    @Email
    private String userId;
    @NotNull @Size(min = 4, max = 50, message = "Имя должно быть размером от
            {min} до {max} символов")

            Написание ограничений 117

            private String firstName;
            private String lastName;
            @Email(message = "Восстановленный электронный адрес не является действительным")
            private String recoveryEmail;
            private String phoneNumber;
            @Min(value = 18, message = "Покупатель слишком молод. Ему должно быть больше
                    {value} лет")
                    Private Integer age;
// Конструкторы, геттеры, сеттеры
}
```
