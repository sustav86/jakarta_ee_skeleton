#Java Persistence API
* Приложения включают бизнес-логику, взаимодействие с другими системами, интер-
фейсы пользователя... и данные. Большую часть данных, которыми манипулируют
наши приложения, приходится хранить вбазах данных. Оттуда их требуется извлекать,
а также анализировать их. Базы данных имеют важное значение: в них хранятся
бизнес-данные, они выступают в качестве центральной точки между приложениями
и обрабатывают информацию посредством триггеров или хранимых процедур. По-
стоянные данные встречаются повсюду, и большую часть времени они используют
реляционные базы данных как основной механизм обеспечения постоянства (а не
бессхемные базы данных). Информация в реляционных базах данных располагается
в таблицах, состоящих из строк и столбцов. Данные идентифицируются с помощью
первичных ключей, которые представляют собой особые столбцы с ограничениями
уникальности и иногда индексами. Связи между таблицами предполагают использо-
вание внешних ключей и таблиц соединения с ограничениями целостности.
* В таком объектно-ориентированном языке программирования, как Java, вся эта
терминология неактуальна. При использовании Java мы манипулируем объектами,
являющимися экземплярами классов. Объекты наследуют от других объектов,
располагают ссылками на коллекции прочих объектов, а также иногда указывают
на себя рекурсивным образом. У нас есть конкретные классы, абстрактные классы,
интерфейсы, перечисления, аннотации, методы, атрибуты и т. д. Объекты хорошо
инкапсулируют состояние и поведение, однако это состояние доступно только при
работающей виртуальной машине Java (Java Virtual Machine — JVM): если вирту-
альная машина Java останавливается или сборщик мусора удаляет содержимое ее
памяти, объекты исчезают вместе со своим состоянием. Некоторые объекты нуж-
даются в том, чтобы быть постоянными. Под постоянными данными я имею в виду
данные, которые намеренно сохранены на перманентной основе на магнитном
носителе, флеш-накопителе и т. п. Объект, который может сохранить свое состоя-
ние для его повторного использования позднее, называется постоянным.
* Основная идея объектно-реляционного отображения (Object-Relational Mapping —
ORM) заключается в объединении миров баз данных и объектов. Это подразумевает
делегирование доступа к реляционным базам данных внешним инструментам или
фреймворкам, которые, в свою очередь, обеспечивают объектно-ориентированное
представление реляционных данных, и наоборот. Инструменты отображения преду-
сматривают двунаправленное соответствие между базой данных и объектами. Не-
сколько фреймворков обеспечивают это, например Hibernate, TopLink и Java Data
Objects (JDO), а Java Persistence API (JPA) является предпочтительной технологией
и частью Java EE 7.
Эта глава представляет собой введение в JPA, а в двух последующих главах
я сосредоточусь на объектно-реляционном отображении, а также на выполнении
запросов к объектам и управлении объектами.